# Android-并发基础二



**1.线程启动的方式**

启动线程的方式只有两种：

* 继承Thread，实例化，调用start方法
* 实现Runnable接口，并交给Thread去执行



**2.线程状态**

java中线程有2种状态

* 初始(NEW)：新创建了一个线程对象，但还没有调用start()方法。
* 运行(RUNNABLE)：Java 线程中将**就绪（ready）**和**运行中（running）**两种状态笼统的称为“运行”。
  * CPU未给分配时间片的状态称为就绪状态
  * 拿到CPU的时间片称为运行中
* 阻塞(BLOCKED)：表示线程阻塞于锁。
* 等待(WAITING)：进入该状态的线程需要等待其他线程做出一些特定动作（通知或中断）。
* 超时等待(TIMED_WAITING)：该状态不同于 WAITING，它可以在指定的时间后自行返回。
* 终止(TERMINATED)：表示该线程已经执行完毕。



**3.死锁**

**死锁是指**：两个或两个以上的进程在执行过程中，由于竞争资源或者由于彼此通信而造成的一种阻塞的现象，若无外力作用，它们都将无法推进下去。此时称系统处于死锁状态或系统产生了死锁。

死锁产生的四个必要条件：

* **互斥条件**：指进程对所分配到的资源进行排它性使用，即在一段时间内某资源只由一个进程占用。如果此时还有其它进程请求资源，则请求者只能等待，直至占有资源的线程用毕释放。
* **请求和保持**：指进程已经保持至少一个资源，但又提出了新的资源请求，而该资源已被其它进程占有，此时请求进程阻塞，但又对自己已获得的其它资源保持不放。
* **不剥夺条件**：指进程已获得的资源，在未使用完之前，不能被剥夺，只能在使用完时由自己释放。
* **环路等待**：指在发生死锁时，必然存在一个进程——资源的环形链。

